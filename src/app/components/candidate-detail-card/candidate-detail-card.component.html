<div *ngIf="candidate as can; else loading">
    <div class="candidate-info-container">
        <div class="candidate-blocks">
            <div class="candidate-block img" *ngIf="can.picture; else defaultPic">
                <img class="candidate-photo" [src]="can.picture" (click)="download()">
            </div>
            <ng-template #defaultPic>
                <div class="candidate-block img">
                    <img src="./assets/blank-avatar.png" alt="photo">
                </div>
            </ng-template>
            <div class="candidate-block">
                <div class="candidate-name">
                    <ng-container *ngIf="can.firstNameEng; else firstNameEng">{{can.firstNameEng}}</ng-container>
                    <ng-template #firstNameEng>Anonymous</ng-template>
                    <ng-container *ngIf="can.lastNameEng; else lastNameEng">{{can.lastNameEng}}</ng-container>
                    <ng-template #lastNameEng>Anonymous</ng-template>
                </div>
                <div class="city content-wrapper">
                    <i class="small material-icons candidate-location">location_city</i>
                    <ng-container *ngIf="can.city; else city">{{can.city}}</ng-container>
                    <ng-template #city>City</ng-template>
                </div>
                <div class="phone content-wrapper">
                    <i class="small material-icons candidate-phone">call</i>
                    <ng-container *ngIf="can.contact.phone as phone; else phone">{{phone}}</ng-container>
                    <ng-template #phone>Phone</ng-template>
                </div>
                <div class="email content-wrapper">
                    <i class="small material-icons candidate-email">email</i>
                    <ng-container *ngIf="can.contact.email as email; else email">{{email}}</ng-container>
                    <ng-template #email>Mail</ng-template>
                </div>
                <div class="content-wrapper candidate-skype">
                    <i class="feedback-logotypes"></i>
                    <ng-container *ngIf="can.contact.skype as skype; else skype">{{skype}}</ng-container>
                    <ng-template #skype>Skype</ng-template>
                </div>
                <div class="content-wrapper candidate-linkedin">
                    <i class="feedback-logotypes"></i>
                    <ng-container *ngIf="can.contact.linkedIn as link; else link">{{link}}</ng-container>
                    <ng-template #link>LinkedIn</ng-template>
                </div>
                <div *ngIf="can.status" class="candidate-info-item candidate-status">{{can.status}}</div>
            </div>
        </div>
        <div class="candidate-info__inner">
            <div class="candidate-skills">
                <div *ngIf="can.candidatePrimarySkill as skill">
                    <span>Primary skill</span>
                    <img *ngIf="skill.picture; else chip" class="candidate-skill" [src]="skill.picture" />
                    <ng-template #chip>
                        <md-chip-list>
                            <md-chip>{{skill.name}}</md-chip>
                        </md-chip-list>
                    </ng-template>
                </div>
                <div class="" *ngIf="can.candidateSecondarySkills as skills">
                    <span>Secondary skills</span>
                    <ng-container *ngFor="let item of skills">
                        <img class="candidate-skill" *ngIf="item.picture as pic; else text" [src]="pic">
                        <ng-template #text>
                            <md-chip-list>
                                <md-chip>{{item.name}}</md-chip>
                            </md-chip-list>
                        </ng-template>
                    </ng-container>
                </div>
            </div>
        </div>
        <div class="">
            <div class="candidate-info-item candidate-experience">
                <span>Primary skill experience from</span>
                <ng-container *ngIf="can.psExperience as exp; else exp">{{exp | date:"mediumDate"}}</ng-container>
                <ng-template #exp>none</ng-template>
            </div>
            <div class="candidate-info-item candidate-english-level">
                <span>English</span>
                <ng-container *ngIf="can.englishLevel as eng; else eng">{{eng}}</ng-container>
                <ng-template #eng>none</ng-template>
            </div>
            <div class="candidate-info-item candidate-desired-salary">
                <span>Desired salary</span>
                <ng-container *ngIf="can.desiredSalary as salary; else salary">{{salary}}</ng-container>
                <ng-template #salary>none</ng-template>
            </div>
        </div>
        <div class="">
            <div class="candidate-info-item candidate-hr">
                <span>Current HR</span>
                <ng-container *ngIf="can.hrm?.name as hrName; else hrName">{{hrName}}</ng-container>
                <ng-template #hrName>none</ng-template>
            </div>
            <div class="candidate-info-item candidate-last-contact">
                <span>Last connection date</span>
                <ng-container *ngIf="can.lastContactDate as last; else last">{{last | date:"mediumDate"}}</ng-container>
                <ng-template #last>none</ng-template>
            </div>
        </div>
        <!-- <div class="candidate-info-item candidate-hr">
                <span>Possible vacancies: </span>
            </div>
            <div class="possible-vacancies">
                <position-preview-card *ngFor="let item of can.vacancies" [position]="item"></position-preview-card>
            </div> -->
        <button (click)="goToEditForm()">Edit candidate</button>
    </div>
</div>
<ng-template #loading>
    <spinner [loading]="true"></spinner>
</ng-template>
